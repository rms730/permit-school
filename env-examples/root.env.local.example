# -------------------------------------------------------------------
# ROOT .env.local.example  (Local developer environment)
# -------------------------------------------------------------------
# Copy to .env.local and fill in secrets from `supabase status`.
# This file is read by scripts/tools, not the Next.js client.
# -------------------------------------------------------------------

# --- Supabase Local (from `supabase status`) ---
SUPABASE_URL=http://127.0.0.1:54321
# Replace these with YOUR local keys printed by `supabase status`
SUPABASE_SERVICE_ROLE_KEY=REPLACE_WITH_LOCAL_SERVICE_ROLE_KEY
SUPABASE_ANON_KEY=REPLACE_WITH_LOCAL_ANON_KEY
SUPABASE_PUBLISHABLE_KEY=

# --- OpenAI ---
# Optional locally unless using content/question generation scripts
OPENAI_API_KEY=

# --- Stripe (required for billing) ---
STRIPE_SECRET_KEY=sk_test_your_secret_key_here
STRIPE_PUBLISHABLE_KEY=pk_test_your_publishable_key_here
STRIPE_WEBHOOK_SECRET=whsec_your_webhook_secret_here

# --- Email (Resend) ---
RESEND_API_KEY=re_your_resend_api_key_here

# --- Monitoring (Sentry) ---
SENTRY_DSN=https://your_sentry_dsn_here

# --- Testkit ---
TESTKIT_ON=true
TESTKIT_TOKEN=dev-super-secret

# --- Local App URL ---
BASE_URL=http://localhost:3000

# --- CI ---
CI=false

# --- Regulatory ---
REGULATORY_SIGNING_SECRET=your_regulatory_signing_secret_here

# --- Admin Jobs ---
DUNNING_DAILY_ENABLED=true
TRIAL_REMINDERS_ENABLED=true
ADMIN_JOB_TOKEN=your_secure_admin_token_here

# --- Dunning Configuration ---
DUNNING_EMAIL_DAY_1=now
DUNNING_EMAIL_DAY_2=3
DUNNING_EMAIL_DAY_3=7

# --- Billing URLs ---
BILLING_SUCCESS_URL=http://localhost:3000/billing?status=success
BILLING_CANCEL_URL=http://localhost:3000/billing?status=cancel
STRIPE_PORTAL_RETURN_URL=http://localhost:3000/billing

# --- Email Configuration ---
FROM_EMAIL=no-reply@yourdomain.com
SUPPORT_EMAIL=support@yourdomain.com
APP_BASE_URL=http://localhost:3000

# --- Rate Limiting ---
RATE_LIMIT_MAX=60

# --- Final Exam Configuration ---
# These are now managed in the database via jurisdiction_configs table
# FINAL_EXAM_NUM_QUESTIONS=30
# FINAL_EXAM_PASS_PCT=0.8
# FINAL_EXAM_MINUTES_REQUIRED=150

# --- Offline Development ---
OFFLINE_DEV=0

# --- Missing Variables (should be in web env) ---
# These variables are used by the web application and should be in web/.env.local:
# NEXT_PUBLIC_APP_BASE_URL, NEXT_PUBLIC_BUILD_AT, NEXT_PUBLIC_COMMIT_SHA, 
# NEXT_PUBLIC_ENV, 
# NEXT_PUBLIC_GOOGLE_CLIENT_ID, NEXT_PUBLIC_GOOGLE_ONE_TAP, 
# NEXT_PUBLIC_SENTRY_DSN, NEXT_PUBLIC_SITE_URL, NEXT_PUBLIC_STRIPE_PUBLISHABLE_KEY,
# NEXT_PUBLIC_SUPABASE_ANON_KEY, NEXT_PUBLIC_SUPABASE_URL, 
# NEXT_PUBLIC_SUPPORT_EMAIL, NEXT_PUBLIC_SUPPORT_PHONE, NODE_ENV

# --- Additional Root Variables ---
APP_ORIGIN=http://localhost:3000
BACKGROUND_WORKER_TOKEN=your_background_worker_token_here

FULFILLMENT_HMAC_SECRET=your_fulfillment_hmac_secret_here
FULFILLMENT_ON=true
MFA_SECRET=your_mfa_secret_here
RATE_LIMIT_ON=true
RATE_LIMIT_WINDOW_MS=60000
REGULATORY_MONTHLY_ENABLED=true
STRIPE_PRICE_ID=price_your_test_price_id_here
SUPABASE_FUNCTIONS_URL=http://127.0.0.1:54321/functions/v1
TEST_ADMIN_USER={"email":"admin@test.com","password":"password123"}
TEST_MINOR_USER={"email":"minor@test.com","password":"password123"}
TEST_STUDENT_USER={"email":"student@test.com","password":"password123"}
VAR=test_value
WEEKLY_DIGEST_ENABLED=true
