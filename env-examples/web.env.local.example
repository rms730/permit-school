# -------------------------------------------------------------------
# WEB .env.local.example  (Next.js application environment)
# -------------------------------------------------------------------
# Copy to web/.env.local and fill in secrets.
# This file is read by the Next.js application.
# -------------------------------------------------------------------

# --- Supabase (Client-safe) ---
NEXT_PUBLIC_SUPABASE_URL=http://127.0.0.1:54321
NEXT_PUBLIC_SUPABASE_ANON_KEY=local_dev_anon

# --- Supabase (Server-only) ---
SUPABASE_URL=http://127.0.0.1:54321
SUPABASE_SERVICE_ROLE_KEY=local_dev_service_role

# --- Stripe (Client-safe) ---
NEXT_PUBLIC_STRIPE_PUBLISHABLE_KEY=pk_test_your_publishable_key_here

# --- Stripe (Server-only) ---
STRIPE_SECRET_KEY=sk_test_your_secret_key_here
STRIPE_WEBHOOK_SECRET=whsec_your_webhook_secret_here

# --- Email (Resend) ---
RESEND_API_KEY=re_your_resend_api_key_here

# --- Monitoring (Sentry) ---
SENTRY_DSN=https://your_sentry_dsn_here
NEXT_PUBLIC_SENTRY_DSN=https://your_public_sentry_dsn_here

# --- Environment ---
NEXT_PUBLIC_ENV=local
NEXT_PUBLIC_COMMIT_SHA=dev
NEXT_PUBLIC_BUILD_AT=

# --- Site Configuration ---
NEXT_PUBLIC_SITE_URL=http://localhost:3000

# --- Google One Tap (optional) ---
NEXT_PUBLIC_GOOGLE_ONE_TAP=0

# --- Optional; if omitted it's derived from SUPABASE_URL ---
SUPABASE_FUNCTIONS_URL=http://127.0.0.1:54321/functions/v1

# --- Email Configuration ---
FROM_EMAIL=no-reply@yourdomain.com
SUPPORT_EMAIL=support@yourdomain.com
APP_BASE_URL=http://localhost:3000

# --- Rate Limiting ---
RATE_LIMIT_MAX=60

# --- Final Exam Configuration ---
FINAL_EXAM_NUM_QUESTIONS=30
FINAL_EXAM_PASS_PCT=0.8
FINAL_EXAM_MINUTES_REQUIRED=150

# --- Regulatory ---
REGULATORY_SIGNING_SECRET=your_regulatory_signing_secret_here

# --- Admin Jobs ---
DUNNING_DAILY_ENABLED=true
TRIAL_REMINDERS_ENABLED=true
ADMIN_JOB_TOKEN=your_secure_admin_token_here

# --- Dunning Configuration ---
DUNNING_EMAIL_DAY_1=now
DUNNING_EMAIL_DAY_2=3
DUNNING_EMAIL_DAY_3=7

# --- Billing URLs ---
BILLING_SUCCESS_URL=http://localhost:3000/billing?status=success
BILLING_CANCEL_URL=http://localhost:3000/billing?status=cancel
STRIPE_PORTAL_RETURN_URL=http://localhost:3000/billing

# --- Test Users (for E2E testing) ---
TEST_STUDENT_USER={"email":"student@test.com","password":"password123"}
TEST_ADMIN_USER={"email":"admin@test.com","password":"password123"}
TEST_MINOR_USER={"email":"minor@test.com","password":"password123"}

# --- Offline Development ---
OFFLINE_DEV=0
